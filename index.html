<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="UTF-8">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:wght@300;400&display=swap" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/material-icons@1.13.14/iconfont/material-icons.min.css" rel="stylesheet">
		<link rel="stylesheet" href="styles.css">
		<script src="./react.js"></script>
		<script src="./react-dom.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/axios@1.10.0/dist/axios.min.js"></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
		<title>Weather App</title>
  </head>
  <body>
    <div>
		<div id="root">
    </div>
	<script type="text/babel">
		// REACT
		/* 
		Todo 
		
		structure states
		first states and then html part
		icon fontify etc.. fafa for rain sun snow windy evtl at end --> nice to have!
		Another niceto have --> precipitation --> hourly weather vaar
		next structure state w axios
		in css upper case for font for location-header
		another nice to have -> change city
		condition -> cond --< what is?
		
		
		LOOK AT WHAT VARS ARE AVAILABLE -> STRUCTURE STATE -> STRUCTURE HTML
		forecast for now 1day -> nice to -have -> more days!
		nice-to have sunrise sunset
		
		ultimate nico to have pixel moon etc. replace fafa with my own!...
		1. vars
		2. state
		3. html
		
		// vars
		Long lat in url inject not response, pre useEffect?
		*/ 
		function App(){ 
			// IMPORT
			const { useState, useEffect } = React;
			// STATES INVISIBLE
			const [long, setLong] = useState(null);
			const [lat, setLat] = useState(null);
			// STATES VISIBLE
			const [temp, setTemp] = useState(null);
			const [cond, setCond] = useState(null);
			const [spd, setSpd] = useState(null);
			const [dir, setDir] = useState(null);
			const [hum, setHum] = useState(null);
			const [dayNight, setDayNight] = useState(null);
			// URL-VARS
			const APIurl = "https://api.open-meteo.com/v1/forecast?latitude=48.30&longitude=14.28&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,wind_speed_10m,wind_direction_10m,precipitation,rain,showers,snowfall,cloud_cover&timezone=Europe%2FBerlin&forecast_days=1";
			// USE-EFFECT HOOK W. API-CALL A. RESPONSE
			useEffect(()=>{
				// AXIOS-GET
				axios.get(APIurl)
					.then(response => {
						let responses = response.data.current;
						console.log(responses);
						setTemp(responses.apparent_temperature);
						setHum(responses.relative_humidity_2m);
						setSpd(responses.wind_speed_10m);
						setDir(responses.wind_direction_10m);
						setDayNight(responses.is_day);
					})
			})
			// RETURN-STATEMENT
			return (
<div className="wrapper">
      <div className="header">
		<h4 className="location-Header">Standort</h4>
		<h2 className="city">Linz</h2>
		<p className="temperature">{temp}°</p>
        <p className="condition">{cond}</p>
      </div>
		<div className="weather-details">
        <div>
          <p>Humidity:</p>
          <p className="detail">{hum}</p>
			
        </div>
        <div>
          <p>Wind Speed:</p>
          <p className="detail">{spd}</p>
        </div>
        <div>
          <p>Wind Direction:</p>
          <p className="detail">{dir}</p>
        </div>
        <div>
          <p>Daytime:</p>
          <p className="detail">{dayNight}</p>
        </div>
      </div>
	
      <div className="forecast">
        <h2 className="headForecast">5-Day Forecast</h2>
        <div className="forecast-days">
          <div className="forecast-day">
            <p className="dayName">Monday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Tuesday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Wednesday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Thursday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Friday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Saturday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
          <div className="forecast-day">
            <p className="dayName">Sunday</p>
            <p>Cloudy</p>
            <p>12°F</p>
          </div>
        </div>
      </div>
    </div>
			)
		}
		// RENDERING-PART
		const root= ReactDOM.createRoot(document.getElementById('root'));
		root.render(<App />)
	</script>
  </body>
</html>
